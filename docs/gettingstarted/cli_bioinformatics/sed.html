

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The sed command &mdash; Bioinformatic Methods for Biodiversity Metabarcoding  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/js/custom.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Loops in bash" href="loops.html" />
    <link rel="prev" title="The grep command" href="grep.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Bioinformatic Methods for Biodiversity Metabarcoding
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../gettingstarted.html">Getting started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../setup.html">Setting up a bioinformatics machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../remote_access.html">Accessing linux servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../how_to_use.html">How to use these resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../toolbox_pipelines.html">The bioinformatics toolbox</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../cli_bioinformatics.html">Command line bioinformatics</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="UNIX_cmd_line.html">UNIX command line</a></li>
<li class="toctree-l3"><a class="reference internal" href="basic_UNIX.html">Basic UNIX commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="nano.html">Using nano to edit documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="grep.html">The grep command</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">The sed command</a></li>
<li class="toctree-l3"><a class="reference internal" href="loops.html">Loops in bash</a></li>
<li class="toctree-l3"><a class="reference internal" href="cheatsheet.html">Cheatsheet of useful commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="keeping_organised.html">Keeping your data organised</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../data.html">Example data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../readprocessing.html">A: Read processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filtering.html">B: Filtering amplicons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../asv_otu_readmap.html">C: ASVs, OTUs and read mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../building_otu_phylogeny.html">D: Building OTU phylogeny</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../otuid.html">E: Identifying OTU sequences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contactus.html">Contact us</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Bioinformatic Methods for Biodiversity Metabarcoding</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../gettingstarted.html">Getting started</a> &raquo;</li>
        
          <li><a href="../cli_bioinformatics.html">Command line bioinformatics</a> &raquo;</li>
        
      <li>The sed command</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/gettingstarted/cli_bioinformatics/sed.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-sed-command">
<span id="sed"></span><h1>The sed command<a class="headerlink" href="#the-sed-command" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">sed</span></code> command is another tool that uses Regular Expressions, see the page on the <code class="docutils literal notranslate"><span class="pre">grep</span></code> command for more information on these. <code class="docutils literal notranslate"><span class="pre">sed</span></code> is used for performing edits to a text file. Probably the most common use of <code class="docutils literal notranslate"><span class="pre">sed</span></code> is to perform find-and-replace type operations, but it can also be used for many other things, in particular printing only specific lines of files.</p>
<p>For a more detailed introduction to sed, you might be interested in reading the <a class="reference external" href="https://catonmat.net/worlds-best-introduction-to-sed">world’s best introduction to sed</a>.</p>
<div class="section" id="find-replace-using-sed">
<h2>Find-replace using sed<a class="headerlink" href="#find-replace-using-sed" title="Permalink to this headline">¶</a></h2>
<p>Let’s create a simple text file</p>
<pre class="literal-block">echo -e &quot;lineA\nlineB\nlineC&quot; &gt; lines.txt</pre>
<p>Let’s say we want to replace “line” on each line with “row”. We would use the following <code class="docutils literal notranslate"><span class="pre">sed</span></code> expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sed</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;s/line/row/&quot;</span> <span class="n">lines</span><span class="o">.</span><span class="n">txt</span> <span class="o">&gt;</span> <span class="n">rows</span><span class="o">.</span><span class="n">txt</span>
<span class="n">cat</span> <span class="n">rows</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-e</span></code> option tells sed that we want to use a regular expression for editing, and the regular expression in this case takes the form <code class="docutils literal notranslate"><span class="pre">s/find/replace/</span></code>. The <code class="docutils literal notranslate"><span class="pre">s</span></code> tells <code class="docutils literal notranslate"><span class="pre">sed</span></code> that we’re doing a substitution, and the <code class="docutils literal notranslate"><span class="pre">/</span></code> characters delimit our search and replacement. As you can imagine, we could get much more complicated with the regular expressions used to specify what we want to find and how we want to replace it, but we won’t go into this here.</p>
<p>Note that if you want to edit a file directly, rather than edit a file and send the edited version to standard output, you would use the <code class="docutils literal notranslate"><span class="pre">-i</span></code> (inplace) argument. Be careful with this: you should always test out your regular expression before running it, in case it does things you don’t intend! If you have a large file, you can use <code class="docutils literal notranslate"><span class="pre">head</span></code> to see just the first 10 lines, then pipe this to <code class="docutils literal notranslate"><span class="pre">sed</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">head</span> <span class="n">file</span><span class="o">.</span><span class="n">txt</span> <span class="o">|</span> <span class="n">sed</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;s/find/replace/&quot;</span>
</pre></div>
</div>
<p>This will allow you to test out your regular expression on a subset of the file. When you’re happy, you can run it on the whole file in place:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sed</span> <span class="o">-</span><span class="n">i</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;s/find/replace/&quot;</span> <span class="n">file</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>A final note: by default, <code class="docutils literal notranslate"><span class="pre">sed</span></code> replaces the first instance of your search string <em>per line</em>. If you want to replace every instance, use <code class="docutils literal notranslate"><span class="pre">s///g</span></code> (global).</p>
</div>
<div class="section" id="selecting-lines-from-a-file-with-sed">
<h2>Selecting lines from a file with sed<a class="headerlink" href="#selecting-lines-from-a-file-with-sed" title="Permalink to this headline">¶</a></h2>
<p>To print a specific line using sed, you use the <code class="docutils literal notranslate"><span class="pre">p</span></code> instruction. You pair this with the <code class="docutils literal notranslate"><span class="pre">-n</span></code> option, which does not return any lines unless explicitely told to. So, to print the 10th line of a file, you’d do:</p>
<pre class="literal-block">sed -n '10p' file.txt</pre>
<p>To print lines 56 to 61:</p>
<pre class="literal-block">sed -n '56,61p' file.txt</pre>
<p>To print every second line, starting with the second line, you’d do:</p>
<pre class="literal-block">sed -n '2~2p' file.txt</pre>
<p>This last one is a handy way of extracting just the sequences from an (unwrapped) FASTA file.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="loops.html" class="btn btn-neutral float-right" title="Loops in bash" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="grep.html" class="btn btn-neutral float-left" title="The grep command" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, The Vogler Lab

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
    <p><br>Creedy, Vogler & Penlington, Natural History Museum London, Bioinformatic Methods for Biodiversity Metabarcoding. This site is a a deliverable of the iBioGen consortium funded by EU grant agreement No 810729, the content of this site is licensed under the <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="blank">Creative Commons Attribution ShareAlike 4.0 License</a></p>


</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>