

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Linux basics &mdash; Analysis of Metagenetic data for Macroecology  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Read processing" href="../readprocessing.html" />
    <link rel="prev" title="Introduction to the linux command line" href="../linuxintro.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Analysis of Metagenetic data for Macroecology
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../notes.html">The Practical Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../linuxintro.html">Introduction to the linux command line</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Linux basics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../readprocessing.html">Read processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filtering.html">Filtering Amplicon Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../otudelim.html">OTU Delimitation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../otuid.html">Identifying OTUs and Generating Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trees.html">Building Phylogenetic Trees for Metagenetics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../placing_otus_in_trees.html">Placing OTUs in reference trees</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Analysis of Metagenetic data for Macroecology</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../linuxintro.html">Introduction to the linux command line</a> &raquo;</li>
        
      <li>Linux basics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/linux_fundamentals/linux_fundamentals.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="linux-basics">
<span id="id1"></span><h1>Linux basics<a class="headerlink" href="#linux-basics" title="Permalink to this headline">¶</a></h1>
<p>If you want to find out more about a function and how it works, you can google it or look up its help pages in the terminal, by running one or more of the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ man ​fastqc​     <span class="c1">#Returns a scrollable manual if it exists</span>
$ ​fastqc​ -h      <span class="c1">#Outputs a text summary of the function&#39;s options</span>
$ ​fastqc​ --help  <span class="c1">#Same as above</span>
</pre></div>
</div>
<p>Get familiar with using these, you won’t always have us to ask!</p>
<div class="section" id="some-commonly-used-commands">
<h2>Some commonly used commands<a class="headerlink" href="#some-commonly-used-commands" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ​./dir          <span class="c1">#change location to ​dir​ inside current directory</span>

$ <span class="nb">cd</span> ../            <span class="c1">#change location to parent directory</span>

$ <span class="nb">pwd</span>               <span class="c1">#show current directory</span>

$ mkdir ​./dir       <span class="c1">#make new directory ​dir​ insider current directory</span>

$ ls                <span class="c1">#show the contents of the current directory</span>

$ ls -lh            <span class="c1">#show the contents in an ordered list with file sizes</span>

$ mv fileA ../      <span class="c1">#move ​fileA ​to parent directory (in this instance)</span>

$ cp fileA ../      <span class="c1">#copy ​fileA​ to parent directory</span>

$ mv fileA fileB    <span class="c1">#rename ​fileA​ to ​fileB</span>

$ rm fileA          <span class="c1">#delete ​fileA ​(Be careful!)</span>

$ rm -d dirA        <span class="c1">#delete an empty directory</span>

$ mv file* ./dir    <span class="c1">#move all files starting with ​file​ to directory ​dir</span>

$ rm *.fa           <span class="c1">#delete all files ending with ​.fa ​(Be really careful!)</span>

$ rm -rf dirA       <span class="c1">#delete a directory and contents (Be extremely careful!)</span>

$ head ​fileB        <span class="c1">#display first 10 lines of ​fileB</span>

$ head -n <span class="m">20</span> ​fileB  <span class="c1">#display first 20 lines of ​fileB</span>

$ more ​fileB        <span class="c1">#display ​fileB ​in a scrollable format (press q to quit)</span>
</pre></div>
</div>
</div>
<div class="section" id="more-detailed-examples-for-beginners">
<h2>More detailed examples for beginners<a class="headerlink" href="#more-detailed-examples-for-beginners" title="Permalink to this headline">¶</a></h2>
<p><strong>Navigating a linux system</strong></p>
<p>To check where you are in a system you type in <code class="docutils literal notranslate"><span class="pre">pwd</span></code>. This will show you your present working directory.
If you need to change directory you can type <code class="docutils literal notranslate"><span class="pre">cd</span></code> followed  by the path of the directory you want.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /directory
</pre></div>
</div>
<p>If you need to create a new directory you can use the <code class="docutils literal notranslate"><span class="pre">mkdir</span></code> command followed by what name you want to give the new directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir new_directory
</pre></div>
</div>
<p><strong>Creating a file</strong></p>
<p>To create a file you can either use commands <code class="docutils literal notranslate"><span class="pre">echo</span></code> or <code class="docutils literal notranslate"><span class="pre">touch</span></code>, or the nano text editor (described in a later section).
To create an empty file you can use the <code class="docutils literal notranslate"><span class="pre">touch</span></code> command followed by the name you want to save the empty file under.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ touch filename
</pre></div>
</div>
<p>To create a file that has certain contents you can use <code class="docutils literal notranslate"><span class="pre">echo</span></code> or <code class="docutils literal notranslate"><span class="pre">nano</span></code>.
Lets say you want a file that contains the text “this is a file” and you wanted to name that file <code class="docutils literal notranslate"><span class="pre">fileA.txt</span></code>.
You would do this as shown below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">echo</span> <span class="s2">&quot;this is a file&quot;</span> &gt; fileA.txt
</pre></div>
</div>
<p>If you want to create a text file with multiple lines of text from the terminal it will be easier to use nano (see later section).</p>
<p><strong>Copying files</strong></p>
<p>You might want to copy a file under a different name so you can edit it but still keep the original.
To do this we can us the <code class="docutils literal notranslate"><span class="pre">cp</span></code> command. Type <code class="docutils literal notranslate"><span class="pre">cp</span></code> followed by the name of the file you want to copy then the name you want to give the copy.
Lets say we wanted to make a copy of <code class="docutils literal notranslate"><span class="pre">fileA.txt</span></code> named <code class="docutils literal notranslate"><span class="pre">fileB.txt</span></code>. The block below shows us how we would do this.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cp fileA.txt fileB.txt
</pre></div>
</div>
<p>You can also copy a file into a different directory by putting the target directory path as the second argument followed by a <code class="docutils literal notranslate"><span class="pre">/</span></code> and the name you want the copy to be saved under.
For example, if we wanted to copy <code class="docutils literal notranslate"><span class="pre">fileA.txt</span></code> to a directory named <code class="docutils literal notranslate"><span class="pre">dirB</span></code> that was in our current parent directory and name the copy <code class="docutils literal notranslate"><span class="pre">fileB.txt</span></code>, we would run the below command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cp fileA.txt ../dirB/fileB.txt
</pre></div>
</div>
<p><strong>Moving files</strong></p>
<p>If you want to move a file into a different directory without copying it you can use the <code class="docutils literal notranslate"><span class="pre">mv</span></code> command.
You type <code class="docutils literal notranslate"><span class="pre">mv</span></code> followed by the name of the file you would like to move then the target directory path.
Lets say we want to move a file named <code class="docutils literal notranslate"><span class="pre">fileC.txt</span></code> into a directory named <code class="docutils literal notranslate"><span class="pre">dirB</span></code> which is contained within our current parent directory.
The block below shows us how to do that.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mv fileC.txt ../dirB
</pre></div>
</div>
<p><strong>Using Nano</strong></p>
<p>Nano is a command line text editor which allows you to create, edit and save files.
If you are new to using the command line, and need to make substantial changes to a document, its recommended to download the file onto your computer and edit in a program you are comfortable with.</p>
<p>To create a document using nano you simply type <code class="docutils literal notranslate"><span class="pre">nano</span></code> followed by the name you would like to give the file. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ nano example.txt
</pre></div>
</div>
<p>Creating a file using the above command will open the text editor and your terminal will look something like the image below.</p>
<img alt="../_images/nano.png" class="align-center" src="../_images/nano.png" />
<p>The cursor can be seen in the top left of the editor and options are seen at the bottom. The <code class="docutils literal notranslate"><span class="pre">^</span></code> character here is for the <code class="docutils literal notranslate"><span class="pre">ctrl</span></code> key. To see all options you can press <code class="docutils literal notranslate"><span class="pre">ctrl+g</span></code>. The <code class="docutils literal notranslate"><span class="pre">M</span></code> in the expanded options list is for the <code class="docutils literal notranslate"><span class="pre">alt</span></code> key.</p>
<p>You can now type whatever you need into this file. To save the file you press <code class="docutils literal notranslate"><span class="pre">ctrl+o</span></code> and the exit you press <code class="docutils literal notranslate"><span class="pre">ctrl+x</span></code>.</p>
<p>To open an existing file you type <code class="docutils literal notranslate"><span class="pre">nano</span></code> followed by the file name.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ nano filename
</pre></div>
</div>
<p>It will show a similar screen to the image above but with all the text that file contains displayed. You can then go ahead and edit the document.</p>
<p>You can move your cursor to the text you want to edit by using the arrow keys on your keyboard. Alternatively, you can move your cursor to a specific point by pressing <code class="docutils literal notranslate"><span class="pre">ctrl+_</span></code> then typing the line number followed by a comma then the column number.</p>
<p>Nano also has a search and replace function. If you press <code class="docutils literal notranslate"><span class="pre">ctrl+\</span></code> you can search for a word, then type what you want to replace it with. You can then go through each instance of the searched term and decide if you would like to replace it by typing <code class="docutils literal notranslate"><span class="pre">Y</span></code> for yes or <code class="docutils literal notranslate"><span class="pre">N</span></code> for no. Alternatively you can type <code class="docutils literal notranslate"><span class="pre">A</span></code> to replace all. Be careful using this method as there may be times where you do not know how many times some text appears and could be damaging to accidentally replace it all.</p>
<p><strong>Logging into bastion for the first time</strong></p>
<p>To access the NHM servers remotely you must connect via bastion (also known as orca). Bastion uses two factor authentication which you will need to set up using the Google Authenticator app so make sure you have this downloaded. The steps to do this are different depending on what operating system you are running so go to the section which applies to you.</p>
<p><strong>Logging in with Windows using putty.</strong></p>
<p>Putty is an SSH client available for Windows that will allow you to connect to bastion. Open putty and type orca.nhm.ac.uk into the Host Name field, then click open. A login screen will then appear which you should use your NHM account credentials to login with. A QR code will then appear which you can scan using the Google Authenticator app to set up two factor authentication. If the QR code doesn’t work you can use the secret key displayed instead. Once you are connected you can ssh to the NHM server you require by typing <code class="docutils literal notranslate"><span class="pre">ssh</span></code> followed by your <code class="docutils literal notranslate"><span class="pre">username&#64;server_address</span></code>.  If you wanted to connect to the watson server you would do it like so:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ssh username@watson.nhm.ac.uk
</pre></div>
</div>
<p><strong>Logging in with Linux or macOS using the terminal</strong></p>
<p>To connect with terminal you use the <code class="docutils literal notranslate"><span class="pre">ssh</span></code> command. Type <code class="docutils literal notranslate"><span class="pre">ssh</span></code> followed by your <code class="docutils literal notranslate"><span class="pre">username&#64;orca.nhm.ac.uk</span></code> as shown below.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ssh username@orca.nhm.ac.uk
</pre></div>
</div>
<p>Then type in your password for your NHM account. A QR code will then appear which you can scan using the Google Authenticator app to set up two factor authentication. If the QR code doesn’t work you can use the secret key displayed instead. Once you are connected you can <code class="docutils literal notranslate"><span class="pre">ssh</span></code> to the NHM server you require by typing <code class="docutils literal notranslate"><span class="pre">ssh</span></code> followed by your <code class="docutils literal notranslate"><span class="pre">username&#64;server_address</span></code>.  If you wanted to connect to the watson server you would do it like so:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ssh username@watson.nhm.ac.uk
</pre></div>
</div>
<p>It will then ask you for your password for that server.</p>
<p>In the terminal you can also login to your required server through bastion in once command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ssh -J username@orca.nhm.ac.uk username@server_address
</pre></div>
</div>
<p>It will ask you for your bastion password followed by your Google Authenticator verification code, and then for your password for the destination server.</p>
<p><strong>Transferring files between your machine and server</strong></p>
<p>There will be times where you need to transfer files from your local machine to a server and vice versa. This section will cover how you do this. Again, there are different ways of doing this for different operating systems so see the section which applies to you.</p>
<p><strong>Using the scp command in the terminal in Linux or macOS</strong></p>
<p>If you run Linux or macOS you can transfer files easily using the <code class="docutils literal notranslate"><span class="pre">scp</span></code> command in the terminal.</p>
<p>An example of using <code class="docutils literal notranslate"><span class="pre">scp</span></code> to transfer a file from your local machine to a server is below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ scp filename username@server_address:/path/
</pre></div>
</div>
<p>You type <code class="docutils literal notranslate"><span class="pre">scp</span></code> followed by the file name (if you are not in the directory the file is in you will need to write the whole file path) followed by your <code class="docutils literal notranslate"><span class="pre">username&#64;server_address</span></code> followed by a colon then the path (from the root) to where you want the copy to go in the destination server.  If you don’t know what the path is that you need to type in, remember, you can use <code class="docutils literal notranslate"><span class="pre">pwd</span></code> in the directory you want to send the file to and this will return the path of that directory.</p>
<p>If we are either copying from our local machine to a server via bastion (or the other way round) we need to add to our above command to get it to work. To do this you add the <code class="docutils literal notranslate"><span class="pre">-o</span></code> flag followed by <code class="docutils literal notranslate"><span class="pre">'ProxyJump</span> <span class="pre">username&#64;orca.nhm.ac.uk'</span></code> to the beginning of our command as below.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ scp -o <span class="s1">&#39;ProxyJump username@orca.nhm.ac.uk&#39;</span> filename username@server_address:/path/
</pre></div>
</div>
<p>When you type this command in it will ask you for your bastion password, Google Authenticator verification code and then the password to the server you are sending the copied file to. It will then copy the file. If you get an error it typically is due to a typo (file name incorrect or destination path typed out incorrectly for example).</p>
<p>If you want to copy something from a server to your local machine via orca you use the same command but change the order slightly as shown below. <strong>N.B. this command is still given to your machine, not to the server.</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ scp -o <span class="s1">&#39;ProxyJump username@orca.nhm.ac.uk&#39;</span> username@server_address:/path/ destination_path
</pre></div>
</div>
<p>You type <code class="docutils literal notranslate"><span class="pre">scp</span> <span class="pre">-o</span></code> followed by the proxy jump in the same way. You then type your <code class="docutils literal notranslate"><span class="pre">username&#64;server_address</span></code> followed by a colon then the path to the file you want to copy. You then type the path to the directory on your own machine that you want to copy to. It will then ask you for the login credentials for bastion and the destination server and copy the file to your local machine.</p>
<p>You can transfer directories using scp by adding the <code class="docutils literal notranslate"><span class="pre">-r</span></code> flag to the beginning of the command as below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ scp -r -o <span class="s1">&#39;ProxyJump username@orca.nhm.ac.uk&#39;</span> username@server_address:/path/ destination_path
</pre></div>
</div>
<p><strong>Using WinSCP to transfer files on a Windows machine</strong></p>
<p>Windows users can use an application called WinSCP to transfer files. It comes with the advantage of having a GUI so you can drag and drop files rather than typing out commands.</p>
<p>To set this up open WinSCP and follow the below steps.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Change the file protocol drop down menu to SCP</p></li>
<li><p>Type the address of the server you want to connect to in the Host Name field (e.g. <code class="docutils literal notranslate"><span class="pre">watson&#64;nhm.ac.uk</span></code>)</p></li>
<li><p>Enter your username and password for the server you want to connect to</p></li>
<li><p>Click advanced</p></li>
<li><p>Click tunnel on the left menu</p></li>
<li><p>Check the ‘Connect through SSH’ box</p></li>
<li><p>Type <code class="docutils literal notranslate"><span class="pre">orca&#64;nhm.ac.uk</span></code> in the Host Name field</p></li>
<li><p>Type your username and password for orca in the username and password boxes</p></li>
<li><p>Click okay then continue on the authentication banner</p></li>
<li><p>Enter your verification code from the Google Authenticator app</p></li>
<li><p>Click through the remaining prompts</p></li>
<li><p>You can now drag and drop files between your local machine and the server</p></li>
</ol>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../readprocessing.html" class="btn btn-neutral float-right" title="Read processing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../linuxintro.html" class="btn btn-neutral float-left" title="Introduction to the linux command line" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, The Vogler Lab

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>